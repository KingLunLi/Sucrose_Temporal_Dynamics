There are two codes within this folder that are intended to be used one after the other:
1. Sample PCA code.ipynb - performs principal component analysis (PCA). 
2. PCA_plot.R - reads PCA-transformed data, calculates, and visualizes the differences between active lever press (ALP) and baseline samples.

1. Sample PCA code.ipynb
The inputs: 
- CSV containing standardized nerual data - 'example_standardized.csv'
- CSV containing active lever press timing (behavioral data) - 'example_Lever_Press_Timing.csv'
- CSV containing inactive lever press timing - 'example_Inactive_Lever_Press_Timing.csv'

The outputs: 
- It extracts the PCA component from the pipeline and saves the explained variance ratios to a CSV file.
- The projected principal components (e.g. PC1, PC2) for each trial are saved to separate CSV files based on their group (ALP, BL1, or BL2) and the iteration (e.g. it0, it1). Each CSV file contains one projected principal component (e.g. PC1, PC2) across all trials (lever presses).

The time needed to run the code (Sample PCA code.ipynb) depends on the data size.

2. PCA_plot.R
There are multiple input files for this code. For the demo, we provided data from 2 example mice. There 60 files with 30 files from each mouse. Here is a breakdown of the files for each mouse:
- example1_Day11trials_ALP_PC1_it0.csv 
- example1_Day11trials_ALP_PC2_it0.csv
- example1_Day11trials_BL1_PC1_it0.csv 
- example1_Day11trials_BL1_PC2_it0.csv
- example1_Day11trials_BL2_PC1_it0.csv 
- example1_Day11trials_BL2_PC2_it0.csv
The outputs:
